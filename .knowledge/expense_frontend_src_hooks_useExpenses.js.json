{"is_source_file": true, "format": "JavaScript", "description": "React hook managing expenses data, including fetching, filtering, CRUD operations, and receipt uploads via Supabase.", "external_files": ["../lib/supabase"], "external_methods": ["supabase.from", "supabase.storage.from", "supabase.storage.getPublicUrl"], "published": ["useExpenses"], "classes": [], "methods": [{"name": "useExpenses(userId)", "description": "Custom React hook providing expenses data, filters, and CRUD operations for a specific user.", "scope": "", "scopeKind": ""}, {"name": "addExpense(expense)", "description": "Creates a new expense entry in the database.", "scope": "useExpenses", "scopeKind": "function"}, {"name": "updateExpense(id, patch)", "description": "Updates an existing expense identified by ID.", "scope": "useExpenses", "scopeKind": "function"}, {"name": "deleteExpense(id)", "description": "Deletes an expense by ID.", "scope": "useExpenses", "scopeKind": "function"}, {"name": "uploadReceipt(file)", "description": "Uploads a receipt file to storage and returns its public URL.", "scope": "useExpenses", "scopeKind": "function"}, {"name": "refresh()", "description": "Manually triggers a refresh of expenses data.", "scope": "useExpenses", "scopeKind": "function"}], "calls": ["supabase.from('expenses').select", "supabase.from('expenses').insert", "supabase.from('expenses').update", "supabase.from('expenses').delete", "supabase.storage.from('receipts').upload", "supabase.storage.from('receipts').getPublicUrl"], "search-terms": ["useExpenses", "expenses hook", "Supabase expenses", "React expenses management", "receipt upload", "expense CRUD", "date range filter"], "state": 2, "file_id": 15, "knowledge_revision": 35, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEFAULT_CATEGORIES", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^const DEFAULT_CATEGORIES = ['Food', 'Transport', 'Housing', 'Utilities', 'Shopping', 'Health', '/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "addExpense", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^  async function addExpense(expense) {$/", "language": "JavaScript", "kind": "function", "signature": "(expense)", "scope": "useExpenses", "scopeKind": "function"}, {"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^      amount: Number(expense.amount || 0),$/", "language": "JavaScript", "kind": "property", "scope": "useExpenses.addExpense.payload", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^      category: expense.category || 'Other',$/", "language": "JavaScript", "kind": "property", "scope": "useExpenses.addExpense.payload", "scopeKind": "class"}, {"_type": "tag", "name": "date", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^      date: expense.date ? new Date(expense.date).toISOString() : new Date().toISOString(),$/", "language": "JavaScript", "kind": "property", "scope": "useExpenses.addExpense.payload", "scopeKind": "class"}, {"_type": "tag", "name": "deleteExpense", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^  async function deleteExpense(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)", "scope": "useExpenses", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^      notes: expense.notes || '',$/", "language": "JavaScript", "kind": "property", "scope": "useExpenses.addExpense.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "useExpenses.addExpense", "scopeKind": "class"}, {"_type": "tag", "name": "receipt_url", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^      receipt_url: expense.receipt_url || null$/", "language": "JavaScript", "kind": "property", "scope": "useExpenses.addExpense.payload", "scopeKind": "class"}, {"_type": "tag", "name": "refresh", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^  function refresh() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "useExpenses", "scopeKind": "function"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^      title: expense.title || 'Untitled',$/", "language": "JavaScript", "kind": "property", "scope": "useExpenses.addExpense.payload", "scopeKind": "class"}, {"_type": "tag", "name": "updateExpense", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^  async function updateExpense(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)", "scope": "useExpenses", "scopeKind": "function"}, {"_type": "tag", "name": "uploadReceipt", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^  async function uploadReceipt(file) {$/", "language": "JavaScript", "kind": "function", "signature": "(file)", "scope": "useExpenses", "scopeKind": "function"}, {"_type": "tag", "name": "useExpenses", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^export function useExpenses(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/expense-tracker-and-budget-insights-7926-7935/expense_frontend/src/hooks/useExpenses.js", "pattern": "/^      user_id: userId,$/", "language": "JavaScript", "kind": "property", "scope": "useExpenses.addExpense.payload", "scopeKind": "class"}], "hash": "f19774158f5e0b70dd492ce71518151d", "format-version": 4, "code-base-name": "expense_frontend", "filename": "expense_frontend/src/hooks/useExpenses.js", "fields": [{"name": "amount: Number(expense.amount || 0),", "scope": "useExpenses.addExpense.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "category: expense.category || 'Other',", "scope": "useExpenses.addExpense.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "date: expense.date ? new Date(expense.date).toISOString() : new Date().toISOString(),", "scope": "useExpenses.addExpense.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "notes: expense.notes || '',", "scope": "useExpenses.addExpense.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "receipt_url: expense.receipt_url || null", "scope": "useExpenses.addExpense.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "title: expense.title || 'Untitled',", "scope": "useExpenses.addExpense.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "user_id: userId,", "scope": "useExpenses.addExpense.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"35": ""}]}